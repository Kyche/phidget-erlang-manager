<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Phidget_Erlang_Manager: project/includes/daemon.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>project/includes/daemon.h File Reference</h1><code>#include &lt;regex.h&gt;</code><br>
<code>#include &lt;stdio.h&gt;</code><br>
<code>#include &lt;stdlib.h&gt;</code><br>
<code>#include &lt;strings.h&gt;</code><br>
<code>#include &lt;signal.h&gt;</code><br>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;unistd.h&gt;</code><br>
<code>#include &quot;<a class="el" href="logger_8h-source.html">logger.h</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for daemon.h:</div>
<div class="dynsection">
<p><center><img src="daemon_8h__incl.png" border="0" usemap="#project/includes/daemon.h_map" alt=""></center>
<map name="project/includes/daemon.h_map">
<area shape="rect" href="logger_8h.html" title="logger.h" alt="" coords="653,80,720,107"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="daemon_8h__dep__incl.png" border="0" usemap="#project/includes/daemon.hdep_map" alt=""></center>
<map name="project/includes/daemon.hdep_map">
<area shape="rect" href="daemon_8c.html" title="project/src/daemon.c" alt="" coords="5,80,149,107"><area shape="rect" href="main_8c.html" title="project/src/main.c" alt="" coords="173,80,299,107"></map>
</div>

<p>
<a href="daemon_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c">DaemonErrorCode</a> { <br>
&nbsp;&nbsp;<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4cd4b15107173b86cad9790f18013f4c06">DAEMON_CODE_EXITING</a> =  -11, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c53f321971fc82a0e247e758898717316">DAEMON_CODE_WRITING_PID_FILE</a> =  -10, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c0b140597d86262d877155c7220c13d57">DAEMON_CODE_DAEMON_EXIST</a> =  -9, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4ce47b16ded361ed0616e959a3884e5d68">DAEMON_CODE_KILL_FAILED</a> =  -8, 
<br>
&nbsp;&nbsp;<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4cee2bebf844d08d74719d050d51d3c5a2">DAEMON_CODE_INVALID_COMMAND</a> =  -7, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4ca3828a7b4442e77de4d7b4ed4ab20fdb">DAEMON_CODE_PROC_CMDLINE_NOMATCH</a> =  -6, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c96ff2dd0391c62332c19dd5af99ab1f0">DAEMON_CODE_READING_PROC_CMDLINE</a> =  -5, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4cce00d624a1da67a06b7803a5671cbbac">DAEMON_CODE_INVALID_PID</a> =  -4, 
<br>
&nbsp;&nbsp;<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c57eea4647be7112bff9f50eb3f87fb20">DAEMON_CODE_READING_PID_FILE</a> =  -3, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4cea8e33b8b2ba06697461a9eb876ca737">DAEMON_CODE_INVALID_NAME</a> =  -2, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4ce1fb2cbe5c450204207e65a6512ca761">DAEMON_CODE_NO_PID_FILE</a> =  -1, 
<a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c70d715c355a868d224c4229ad7a1b98d">DAEMON_CODE_OK</a> =  0
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c">DaemonErrorCode</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="daemon_8h.html#69e17aedd7ddb89c22df97f307fd5ef6">daemon_handle_command</a> (char *name, char *cmd)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="daemon_8h.html#8ae691b82211f892cea359aefbde4232">daemon_validate_command</a> (char *command)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="daemon_8h.html#761022f17f7026ad9880c7a48a2f339b">daemon_is_start_command</a> (char *command)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<dl class="date" compact><dt><b>Date:</b></dt><dd>2009-04-22 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>: Jean-Lou Dupont </dd></dl>

<p>Definition in file <a class="el" href="daemon_8h-source.html">daemon.h</a>.</p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4c"></a><!-- doxytag: member="daemon.h::DaemonErrorCode" ref="e3fb6fa80af6a85445ceda4cb04e5b4c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c">DaemonErrorCode</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4cd4b15107173b86cad9790f18013f4c06"></a><!-- doxytag: member="DAEMON_CODE_EXITING" ref="e3fb6fa80af6a85445ceda4cb04e5b4cd4b15107173b86cad9790f18013f4c06" args="" -->DAEMON_CODE_EXITING</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4c53f321971fc82a0e247e758898717316"></a><!-- doxytag: member="DAEMON_CODE_WRITING_PID_FILE" ref="e3fb6fa80af6a85445ceda4cb04e5b4c53f321971fc82a0e247e758898717316" args="" -->DAEMON_CODE_WRITING_PID_FILE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4c0b140597d86262d877155c7220c13d57"></a><!-- doxytag: member="DAEMON_CODE_DAEMON_EXIST" ref="e3fb6fa80af6a85445ceda4cb04e5b4c0b140597d86262d877155c7220c13d57" args="" -->DAEMON_CODE_DAEMON_EXIST</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4ce47b16ded361ed0616e959a3884e5d68"></a><!-- doxytag: member="DAEMON_CODE_KILL_FAILED" ref="e3fb6fa80af6a85445ceda4cb04e5b4ce47b16ded361ed0616e959a3884e5d68" args="" -->DAEMON_CODE_KILL_FAILED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4cee2bebf844d08d74719d050d51d3c5a2"></a><!-- doxytag: member="DAEMON_CODE_INVALID_COMMAND" ref="e3fb6fa80af6a85445ceda4cb04e5b4cee2bebf844d08d74719d050d51d3c5a2" args="" -->DAEMON_CODE_INVALID_COMMAND</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4ca3828a7b4442e77de4d7b4ed4ab20fdb"></a><!-- doxytag: member="DAEMON_CODE_PROC_CMDLINE_NOMATCH" ref="e3fb6fa80af6a85445ceda4cb04e5b4ca3828a7b4442e77de4d7b4ed4ab20fdb" args="" -->DAEMON_CODE_PROC_CMDLINE_NOMATCH</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4c96ff2dd0391c62332c19dd5af99ab1f0"></a><!-- doxytag: member="DAEMON_CODE_READING_PROC_CMDLINE" ref="e3fb6fa80af6a85445ceda4cb04e5b4c96ff2dd0391c62332c19dd5af99ab1f0" args="" -->DAEMON_CODE_READING_PROC_CMDLINE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4cce00d624a1da67a06b7803a5671cbbac"></a><!-- doxytag: member="DAEMON_CODE_INVALID_PID" ref="e3fb6fa80af6a85445ceda4cb04e5b4cce00d624a1da67a06b7803a5671cbbac" args="" -->DAEMON_CODE_INVALID_PID</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4c57eea4647be7112bff9f50eb3f87fb20"></a><!-- doxytag: member="DAEMON_CODE_READING_PID_FILE" ref="e3fb6fa80af6a85445ceda4cb04e5b4c57eea4647be7112bff9f50eb3f87fb20" args="" -->DAEMON_CODE_READING_PID_FILE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4cea8e33b8b2ba06697461a9eb876ca737"></a><!-- doxytag: member="DAEMON_CODE_INVALID_NAME" ref="e3fb6fa80af6a85445ceda4cb04e5b4cea8e33b8b2ba06697461a9eb876ca737" args="" -->DAEMON_CODE_INVALID_NAME</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4ce1fb2cbe5c450204207e65a6512ca761"></a><!-- doxytag: member="DAEMON_CODE_NO_PID_FILE" ref="e3fb6fa80af6a85445ceda4cb04e5b4ce1fb2cbe5c450204207e65a6512ca761" args="" -->DAEMON_CODE_NO_PID_FILE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="e3fb6fa80af6a85445ceda4cb04e5b4c70d715c355a868d224c4229ad7a1b98d"></a><!-- doxytag: member="DAEMON_CODE_OK" ref="e3fb6fa80af6a85445ceda4cb04e5b4c70d715c355a868d224c4229ad7a1b98d" args="" -->DAEMON_CODE_OK</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

<p>Definition at line <a class="el" href="daemon_8h-source.html#l00022">22</a> of file <a class="el" href="daemon_8h-source.html">daemon.h</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="69e17aedd7ddb89c22df97f307fd5ef6"></a><!-- doxytag: member="daemon.h::daemon_handle_command" ref="69e17aedd7ddb89c22df97f307fd5ef6" args="(char *name, char *cmd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="daemon_8h.html#e3fb6fa80af6a85445ceda4cb04e5b4c">DaemonErrorCode</a> daemon_handle_command           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>cmd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles the 'start / stop' commands <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name,:</em>&nbsp;</td><td>the daemon's name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmd,:</em>&nbsp;</td><td>the command, either 'start' or 'stop' </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="daemon_8c-source.html#l00041">41</a> of file <a class="el" href="daemon_8c-source.html">daemon.c</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="daemon_8h_69e17aedd7ddb89c22df97f307fd5ef6_cgraph.png" border="0" usemap="#daemon_8h_69e17aedd7ddb89c22df97f307fd5ef6_cgraph_map" alt=""></center>
<map name="daemon_8h_69e17aedd7ddb89c22df97f307fd5ef6_cgraph_map">
<area shape="rect" href="daemon_8c.html#60a51f5d392547c717c55a7db92d3c97" title="__daemon_handle_start" alt="" coords="251,107,411,133"><area shape="rect" href="daemon_8c.html#afcccf867ef1dca8c93b1ebf89400dcd" title="__daemon_handle_stop" alt="" coords="252,157,409,184"><area shape="rect" href="daemon_8c.html#2bc051e3ec1ae94e35e24324b43ffce7" title="__daemon_translate_command" alt="" coords="229,208,432,235"><area shape="rect" href="daemon_8c.html#7771d30770b61461d6987664b71bf7fa" title="__daemon_delete_pid_file" alt="" coords="489,107,660,133"><area shape="rect" href="daemon_8c.html#4f7b711680be353152947f91c0f53e40" title="__daemon_get_pid_from_file" alt="" coords="481,157,668,184"><area shape="rect" href="daemon_8c.html#30b4701e6237c7f871c933c7ccd48893" title="__daemon_verify_match" alt="" coords="493,208,656,235"><area shape="rect" href="daemon_8c.html#5d39d81895a93e8bb514c1fcc2c7aa8e" title="__daemon_write_pid_file" alt="" coords="493,5,656,32"><area shape="rect" href="logger_8c.html#7380c33fa7a012bfb1b5dc892228d0e4" title="doLog" alt="" coords="547,56,603,83"><area shape="rect" href="daemon_8c.html#33ef2c6e5f9f38000564b63a65b0d646" title="__daemon_construct_pid_filename" alt="" coords="719,107,940,133"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="daemon_8h_69e17aedd7ddb89c22df97f307fd5ef6_icgraph.png" border="0" usemap="#daemon_8h_69e17aedd7ddb89c22df97f307fd5ef6_icgraph_map" alt=""></center>
<map name="daemon_8h_69e17aedd7ddb89c22df97f307fd5ef6_icgraph_map">
<area shape="rect" href="main_8c.html#3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="231,5,279,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="761022f17f7026ad9880c7a48a2f339b"></a><!-- doxytag: member="daemon.h::daemon_is_start_command" ref="761022f17f7026ad9880c7a48a2f339b" args="(char *command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daemon_is_start_command           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>command</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns 1 if TRUE 
<p>Definition at line <a class="el" href="daemon_8c-source.html#l00239">239</a> of file <a class="el" href="daemon_8c-source.html">daemon.c</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="daemon_8h_761022f17f7026ad9880c7a48a2f339b_cgraph.png" border="0" usemap="#daemon_8h_761022f17f7026ad9880c7a48a2f339b_cgraph_map" alt=""></center>
<map name="daemon_8h_761022f17f7026ad9880c7a48a2f339b_cgraph_map">
<area shape="rect" href="daemon_8c.html#2bc051e3ec1ae94e35e24324b43ffce7" title="__daemon_translate_command" alt="" coords="235,5,437,32"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="daemon_8h_761022f17f7026ad9880c7a48a2f339b_icgraph.png" border="0" usemap="#daemon_8h_761022f17f7026ad9880c7a48a2f339b_icgraph_map" alt=""></center>
<map name="daemon_8h_761022f17f7026ad9880c7a48a2f339b_icgraph_map">
<area shape="rect" href="main_8c.html#3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="236,5,284,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="8ae691b82211f892cea359aefbde4232"></a><!-- doxytag: member="daemon.h::daemon_validate_command" ref="8ae691b82211f892cea359aefbde4232" args="(char *command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int daemon_validate_command           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>command</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns 0 if the command is valid 
<p>Definition at line <a class="el" href="daemon_8c-source.html#l00067">67</a> of file <a class="el" href="daemon_8c-source.html">daemon.c</a>.</p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="daemon_8h_8ae691b82211f892cea359aefbde4232_cgraph.png" border="0" usemap="#daemon_8h_8ae691b82211f892cea359aefbde4232_cgraph_map" alt=""></center>
<map name="daemon_8h_8ae691b82211f892cea359aefbde4232_cgraph_map">
<area shape="rect" href="daemon_8c.html#2bc051e3ec1ae94e35e24324b43ffce7" title="__daemon_translate_command" alt="" coords="237,5,440,32"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="daemon_8h_8ae691b82211f892cea359aefbde4232_icgraph.png" border="0" usemap="#daemon_8h_8ae691b82211f892cea359aefbde4232_icgraph_map" alt=""></center>
<map name="daemon_8h_8ae691b82211f892cea359aefbde4232_icgraph_map">
<area shape="rect" href="main_8c.html#3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="239,5,287,32"></map>
</div>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 1 20:49:02 2009 for Phidget_Erlang_Manager by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
